(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bc865ec"],{2502:function(e,t,r){},"42b1":function(e,t,r){"use strict";r("2502")},"4a0a":function(e,t,r){},5720:function(e,t,r){},"5d2b":function(e,t,r){"use strict";r("5720")},"81e7":function(e,t,r){"use strict";r("baa2")},baa2:function(e,t,r){},c77a:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"seller-profile-page"},[e.sellerProfile?r("div",{staticClass:"seller-profile-page__seller-profile"},[r("div",[r("h2",{staticClass:"seller-profile-page__header"},[e._v("Данные продавца")]),r("div",{staticClass:"seller-profile-page__seller-profile-info-container"},[r("div",{staticClass:"mr-2 mb-2"},[r("v-img",{staticClass:"seller-profile-page__sellerProfile-avatar",attrs:{src:e.sellerProfileAvatar,alt:"Аватар пользователя"}})],1),r("v-col",[r("label",{staticClass:"text-caption",attrs:{for:"name-field"}},[e._v("Название")]),r("p",{attrs:{name:"name-field"}},[e._v(e._s(e.sellerProfile.name))]),r("label",{staticClass:"text-caption",attrs:{for:"description-field"}},[e._v("Описание")]),r("p",{attrs:{name:"description-field"}},[e._v(e._s(e.sellerProfile.description))]),e.sellerProfile.phone?r("div",[r("label",{staticClass:"text-caption",attrs:{for:"phone-field"}},[e._v("Телефон")]),r("p",{attrs:{name:"phone-field"}},[e._v("+7"+e._s(e.sellerProfile.phone))])]):r("p",[e._v("Телефон не указан")])])],1)]),r("div",{staticClass:"map-container"},[e.sellerProfile.SellerProfileCategories.length?r("label",{staticClass:"text-caption d-block"},[e._v("Категории")]):e._e(),e._l(e.sellerProfile.SellerProfileCategories,(function(t){return r("v-chip",{key:"seller-profile-category-chip-"+t.id,staticClass:"category-chip",attrs:{color:"primary",label:"",outlined:""}},[e._v(e._s(t.name)+" ")])})),e.sellerProfile.Address?r("label",{staticClass:"text-caption d-block"},[e._v("Адрес")]):e._e(),e.sellerProfile.Address?r("yandex-map",{attrs:{coords:e.sellerProfileAddress,zoom:10}},[r("ymap-marker",{attrs:{coords:e.sellerProfileAddress,"marker-id":"123"}})],1):r("h3",[e._v("Адрес не указан")])],2),e.sellerProfile.SellerProfileAssets.length?r("div",[r("label",{staticClass:"text-caption d-block mt-3"},[e._v("Материалы")]),r("assets-slider",{attrs:{mutable:!1,type:"sellerProfile",sellerProfile:e.sellerProfile,size:"lg"},on:{update:e.getSellerProfileData}}),r("h2",[e._v("Товары")]),r("div",{staticClass:"grid"},e._l(e.shopItems,(function(e){return r("shop-item-card",{key:"shop-item-card-"+e.id,attrs:{shopItem:e}})})),1)],1):e._e()]):e._e()])},a=[],n=r("1da1"),i=(r("99af"),r("96cf"),r("725f")),l=r("cc2c"),o={components:{ShopItemCard:i["a"],AssetsSlider:l["a"]},data:function(){return{sellerProfile:null,shopItems:[]}},methods:{getSellerProfileData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$callWithErrorHandler(Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getSellerProfile(e.$route.params.id);case 2:e.sellerProfile=t.sent.data;case 3:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))()},getSellerShopItems:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$callWithErrorHandler(Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.getShopItemsByOwnerId(e.$route.params.id);case 2:e.shopItems=t.sent.data;case 3:case"end":return t.stop()}}),t)}))));case 2:case"end":return t.stop()}}),t)})))()}},computed:{sellerProfileAvatar:function(){var e;return null!==(e=this.sellerProfile)&&void 0!==e&&e.avatar?"".concat(this.$api.BASE_URL).concat(this.sellerProfile.avatar):r("113c")},sellerProfileAddress:function(){return this.sellerProfile.Address?[this.sellerProfile.Address.x,this.sellerProfile.Address.y]:[]}},beforeMount:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("setIsLoading",!0),t.next=3,e.getSellerProfileData();case 3:if(!e.sellerProfile){t.next=6;break}return t.next=6,e.getSellerShopItems();case 6:e.$store.dispatch("setIsLoading",!1);case 7:case"end":return t.stop()}}),t)})))()}},c=o,u=(r("81e7"),r("2877")),d=r("6544"),p=r.n(d),f=r("cc20"),m=r("62ad"),h=r("a523"),v=r("adda"),A=Object(u["a"])(c,s,a,!1,null,"09751e2a",null);t["default"]=A.exports;p()(A,{VChip:f["a"],VCol:m["a"],VContainer:h["a"],VImg:v["a"]})},cc2c:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{class:"slider-container slider-container--"+e.size},[r("vue-horizontal",[e._l(e.assets,(function(t){return r("asset",{key:"asset-"+t.link,attrs:{asset:t,mutable:e.mutable,size:e.size},on:{delete:function(r){return e.showDeleteAssetModal(t)},show:function(r){return e.showAsset(t)}}})})),e.mutable?r("button",{class:"add-asset-btn add-asset-btn--"+e.size,on:{click:e.openUploadAssetModal}},[e._v(" + ")]):e._e()],2),r("upload-asset-modal",{attrs:{isOpened:e.isUploadAssetModalOpened,title:"Загрузка материала",buttonLabel:"Загрузить",isVideoAllowed:!0},on:{close:e.closeUploadAssetModal}}),r("asset-modal",{attrs:{asset:e.currentAsset,isOpened:e.isAssetModalOpened},on:{close:e.closeAssetModal}}),r("confirmation-modal",{attrs:{isOpened:e.isDeleteAssetModalOpened,title:"Удаление материала",text:"Вы уверены, что хотите удалить материал?",buttonLabel:"Удалить"},on:{close:e.closeDeleteAssetModal,confirm:e.deleteAsset}})],1)},a=[],n=r("1da1"),i=(r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:"asset asset--"+e.size,on:{click:e.showAsset}},[e.asset&&e.asset.link.includes(".mp4")?r("div",{staticClass:"video-placeholder"}):r("v-img",{staticClass:"image-placeholder",attrs:{src:e.assetSrc}}),e.mutable?r("v-icon",{staticClass:"delete-btn",on:{click:function(t){return t.stopPropagation(),e.deleteAsset.apply(null,arguments)}}},[e._v("mdi-close")]):e._e()],1)}),l=[],o=(r("99af"),r("9911"),{props:{mutable:{type:Boolean,default:!1},asset:{type:Object,required:!0},size:{type:String,required:!0}},methods:{deleteAsset:function(){this.$emit("delete")},showAsset:function(){this.$emit("show")}},computed:{assetSrc:function(){return"".concat(this.$api.BASE_URL).concat(this.asset.link)}}}),c=o,u=(r("42b1"),r("2877")),d=r("6544"),p=r.n(d),f=r("132d"),m=r("adda"),h=Object(u["a"])(c,i,l,!1,null,null,null),v=h.exports;p()(h,{VIcon:f["a"],VImg:m["a"]});var A=r("12c8"),g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-overlay",{attrs:{value:e.isOpened},on:{click:function(t){return e.$emit("close")}}},[r("div",{staticClass:"asset-cover",on:{click:function(e){e.stopPropagation()}}},[e.isVideo?r("video-player",{staticClass:"video",attrs:{options:e.playerOptions}}):e._e(),r("v-img",{staticClass:"image",attrs:{src:e.assetSrc}})],1)])},b=[],w=(r("caad"),r("2532"),r("d6d3")),x=(r("fda2"),r("1a36"),{components:{videoPlayer:w["videoPlayer"]},props:{isOpened:{type:Boolean,required:!0},asset:{type:null|Object,required:!0}},computed:{assetSrc:function(){var e;return"".concat(this.$api.BASE_URL).concat(null===(e=this.asset)||void 0===e?void 0:e.link)},playerOptions:function(){return{muted:!1,language:"ru",playbackRates:[.7,1,1.5,2],height:"300",sources:[{type:"video/mp4",src:this.assetSrc}]}},isVideo:function(){var e;return null===(e=this.asset)||void 0===e?void 0:e.link.includes(".mp4")}}}),P=x,_=(r("f6aa"),r("a797")),O=Object(u["a"])(P,g,b,!1,null,"c711e308",null),k=O.exports;p()(O,{VImg:m["a"],VOverlay:_["a"]});var S=r("0f7b"),y={components:{Asset:v,UploadAssetModal:A["a"],AssetModal:k,ConfirmationModal:S["a"]},props:{mutable:{type:Boolean,default:!1},type:{type:String,required:!0},sellerProfile:{type:Object},shopItem:{type:Object},size:{type:String,default:"sm"}},data:function(){return{isUploadAssetModalOpened:!1,isAssetModalOpened:!1,isDeleteAssetModalOpened:!1,currentAsset:null}},methods:{openUploadAssetModal:function(){this.isUploadAssetModalOpened=!0},showAsset:function(e){this.currentAsset=e,this.isAssetModalOpened=!0},closeAssetModal:function(){this.isAssetModalOpened=!1},closeUploadAssetModal:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=8;break}if("sellerProfile"!==t.type){r.next=6;break}return r.next=4,t.addSellerProfileAsset(e);case 4:r.next=8;break;case 6:return r.next=8,t.addShopItemAsset(e);case 8:t.isUploadAssetModalOpened=!1;case 9:case"end":return r.stop()}}),r)})))()},addSellerProfileAsset:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$callWithErrorHandler(Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$api.createSellerProfileAsset({asset:e});case 2:t.$emit("update");case 3:case"end":return r.stop()}}),r)}))));case 2:case"end":return r.stop()}}),r)})))()},addShopItemAsset:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$callWithErrorHandler(Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$api.createShopItemAsset({asset:e},t.shopItem.id);case 2:t.$emit("update");case 3:case"end":return r.stop()}}),r)}))));case 2:case"end":return r.stop()}}),r)})))()},showDeleteAssetModal:function(e){this.currentAsset=e,this.isDeleteAssetModalOpened=!0},closeDeleteAssetModal:function(){this.isDeleteAssetModalOpened=!1},deleteAsset:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("sellerProfile"!==e.type){t.next=5;break}return t.next=3,e.deleteSellerProfileAsset(e.currentAsset);case 3:t.next=7;break;case 5:return t.next=7,e.deleteShopItemAsset(e.currentAsset);case 7:e.isDeleteAssetModalOpened=!1;case 8:case"end":return t.stop()}}),t)})))()},deleteSellerProfileAsset:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$callWithErrorHandler(Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$api.deleteSellerProfileAsset(e.id);case 2:t.$emit("update");case 3:case"end":return r.stop()}}),r)}))));case 2:case"end":return r.stop()}}),r)})))()},deleteShopItemAsset:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$callWithErrorHandler(Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$api.deleteShopItemAsset(e.id);case 2:t.$emit("update");case 3:case"end":return r.stop()}}),r)}))));case 2:case"end":return r.stop()}}),r)})))()}},computed:{assets:function(){return this.sellerProfile?this.sellerProfile.SellerProfileAssets:this.shopItem.ShopItemAssets}}},R=y,$=(r("5d2b"),r("a523")),C=Object(u["a"])(R,s,a,!1,null,"35929c50",null);t["a"]=C.exports;p()(C,{VContainer:$["a"]})},f6aa:function(e,t,r){"use strict";r("4a0a")}}]);
//# sourceMappingURL=chunk-1bc865ec.5e6e5f80.js.map